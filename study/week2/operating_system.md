# 운영체제
## 운영체제와 하드웨어
프로그래머가 코드를 작성할 때 키보드, 디스플레이, 메인 메모리에 직접 접근하지 않는다. 우리의 프로그램은 하드웨어에 직접적으로 명령을 전달하는 것이 아니라 운영체제가 제공하는 서비스를 통해 간접적으로 하드웨어를 이용한다. 다음은 **hello, world!**를 출력하는 프로그램이다.

``` c
#include <stdio.h>

int main() {
    printf("hello, world!");
}
```

이 프로그램에서 프로그래머, 혹은 프로그램이 화면에 출력하는 작업을 수행한다고 생각할 수도 있으나 그렇지 않다. 우리는 운영체제에게 화면에 **hello, world!**를 출력하라고 요청하는 것일 뿐이다. 실제 작업은 운영체제가 수행한다. 이러한 방법을 통해 운영체제는 응용 프로그램들이 하드웨어를 잘못 사용하는 것을 막을 수 있고, 응용 프로그램은 단순하고 균일한 메커니즘을 사용해 복잡한 저수준의 하드웨어 장치를 쉽게 다룰 수 있다.

## 프로세스
위와 같은 프로그램이 실행될 때 시스템에서 단 하나의 프로그램만 실행되는 것처럼 느껴진다. 이러한 현상은 프로세스라고 하는 개념에 의해 이루어진다. 프로세스는 실행 중인 프로그램에 대한 추상화이다. 하나의 시스템에서는 여러 프로세스가 동시에 실행될 수 있으며, 각 프로세스는 시스템을 베타적으로 사용하는 것처럼 느낀다. 여기서 동시(concurrent)에 실행된다는 말의 의미는 한 시간에 여러 인스트럭션이 실행된다는 것이 아니라, 한 프로세스의 인스트럭션이 다른 프로세스의 인스트럭션과 섞여서 실행된다는 것을 의미한다. 또한 CPU가 여러 코어를 가진 시스템에서는 운영체제가 한 시간의 여러 인스트럭션을 병렬(parellel)적으로 실행하기도 한다.

운영체제는 문맥 전환(context switch)을 하며 이러한 동시 실행을 수행한다. 이 말의 의미는 현재 문맥을 다른 실행 문맥으로 변경하여 실행한다는 의미이다. 이 과정은 커널이 수행하며 이 과정을 문맥 전환이라고 한다. 커널은 별도의 프로세스가 아니지만, 일부 운영체제에서는 커널에 pid 0을 부여하기도 한다.

## 쓰레드
예전에 실행 흐름의 단위는 프로세스였다. 그러나 최신 시스템에서는 프로세스가 여러 실행 흐름을 가지고 있다. 실행 흐름의 가장 작은 단위는 쓰레드(thread)라고 부른다. 쓰레드는 프로세스보다 오버헤드가 적고, 데이터의 공유가 상대적으로 쉬워 쓰레드의 중요성이 아주 높다. 리눅스에서는 커널 쓰레드를 경량 프로세스(light weight process)라고 부르기도 한다.

## 가상 메모리
프로그램은 균일한 메모리를 독점적으로 사용하는 것으로 착각하지만, 그것은 가상 메모리라고 부르는 운영체제의 메모리 추상화 기법에 의해서 이루어진다. 흔히 우리가 배열에 값을 할당하면 그것이 연속된 공간이라고 생각할 수 있지만, 실제로 물리적인 공간에서는 연속된 공간이 아닐 수 있으며, 심지어는 배열의 일부가 메인 메모리에 없을 수도 있다.

## 파일
우리는 파일을 하드디스크가 SSD등 이차 저장 장치에 있는 바이트의 연속이라고 생각할 수 있지만 수많은 장치들과 디렉토리, 링크등도 파일에 포함된다. 그리고 이러한 파일에 접근하는 방법은 시스템 콜을 이용해 읽고 쓴다. 실제로 리눅스 프로그래밍을 한다면 `write` 시스템 콜로 단순한 일반 파일 뿐만 아니라 소켓등에도 데이터를 쓸 수 있다는 사실을 알 수 있다.

## 네트워크
시스템은 네트워크를 사용해서 다른 시스템과 통신한다. 이메일, 메신저, 웹 페이지, FTP와 같은 수단을 이용해서 다른 시스템과 정보를 주고받는다. 